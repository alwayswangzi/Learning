# C++ 程序的内存分配

从起始地址开始，依次为：

## 1. 代码段/文本段（Code Segment/Text Segment）

代码段的内存区域为只读。主要用来存放程序代码，同时也存储一些常量，如字符串常量等。

## 2. 数据段（Data Segment）

数据段保存程序中已初始化的全局变量。

数据段也属于静态内存分配。

## 3. BSS段（Block Started by Symbol）

BSS段存放未初始化的全局数据类型和静态数据类型，特点：

1. BSS段属于静态内存分配。
2. BSS段中只存放变量的名称和大小，不存储实际值。级，除了开始和结束地址之外没有任何数据。
3. 当程序载入的时候，加载器负责把BSS段的地址范围内的内存清0.

BSS段存在的意义是为了节约内存。

## 4. 堆（Heap）

堆存放程序运行中动态分配的内存，它的大小不固定，可动态动态扩展或缩小。堆内存一般由程序员分配和释放，若不释放，程序结束之后由系统回收。

## 5. 栈（Stack）

栈存放程序临时创建的局部变量。一般包括在{ }或者函数中定义的变量（不包括static变量）。

除此之外，在函数被调用时，其参数会被压入发起调用的进程栈中，调用结束，函数的返回值也会被压入栈中。

栈由编译器自动分配和释放。

## 附图

![Linux内存段分配图](http://images2015.cnblogs.com/blog/172955/201606/172955-20160627232425218-1059564818.jpg)